---
language: python

env:
  matrix:
    - IMAGE=debian-8-x64
    - IMAGE=centos-7-x64

install:
  - gem install tugboat
  - echo "Configuring tugboat"
  - echo "---
  authentication:
    access_token: ${DO_API_TOKEN}
  ssh:
    ssh_user: root
    ssh_key_path: '~/.ssh/id_rsa'
    ssh_port: '22'
  defaults:
    region: ams3
    size: 512mb
    private_networking: 'false'
    backups_enabled: 'false'
    ip6: 'false'"
  - tugboat images
  - echo "Generating ssh key"
  - ssh-keygen -N "" -f my-key
  - echo "Uploading ssh key"

script:
  - echo "Creating droplets."

after_script:
  - echo "Removing ssh key"
  - echo "Remove droplets."

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  email: false
