---
sudo: required
language: python

env:
  - ANSIBLE_ROLES_PATH="/etc/ansible/roles:/home/travis/build/robertdebock"

install:
  - sudo apt-get update
  - sudo apt-get -y install ansible

script:
  - test -f requirements.yml && sudo ansible-galaxy install --role-file requirements.yml || echo "No requirements.yml found."
  - ansible-playbook --inventory tests/inventory tests/test.yml --syntax-check
  - ansible-playbook --inventory tests/inventory tests/test.yml --connection=local

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
